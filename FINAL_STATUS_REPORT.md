# üìä –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–° –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

## üéØ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω (38.180.122.239)
- SSH –∫–ª—é—á–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã

### ‚ùå –¢–†–ï–ë–£–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø
- **–°–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502 Bad Gateway**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Node.js –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ PM2
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º
- URL: http://smilerentalphuket.com
- –°—Ç–∞—Ç—É—Å: 502 Bad Gateway
- –°–µ—Ä–≤–µ—Ä: nginx/1.18.0 (Ubuntu)
- –°–∫—Ä–∏–Ω—à–æ—Ç: –°–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ 502-error-before-fix.png

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
502 –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Nginx –Ω–µ –º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å—Å—è —Å backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (Node.js –Ω–∞ –ø–æ—Ä—Ç—É 3000).

## üöÄ –†–ï–®–ï–ù–ò–ï

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É:**
   ```bash
   ssh root@38.180.122.239
   # –ü–∞—Ä–æ–ª—å: 925LudK9Bv
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   cd /var/www/smilerentalphuket.com/site-smile-rental/smile-rental-modern
   pm2 start npm --name smile-rental -- start
   pm2 save
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```bash
   pm2 list
   curl http://localhost:3000
   ```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
./update-site.sh
```

## üìã –°–û–ó–î–ê–ù–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´

### –§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- `fix-502-error.ps1` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- `auto-fix-502.ps1` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `URGENT_FIX_502.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### SSH –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- SSH –∫–ª—é—á–∏: `C:\Users\–ê—Ä–∫–∞–¥–∏–π\.ssh\smile_rental_key`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–µ–∑ –ø–∞—Ä–æ–ª—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `DEPLOYMENT_INSTRUCTIONS.md` - –ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `FINAL_DEPLOYMENT_REPORT.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç
- `URGENT_FIX_502.md` - –°—Ä–æ—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## ‚è±Ô∏è –í–†–ï–ú–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è:** 2-3 –º–∏–Ω—É—Ç—ã
**–î–µ–π—Å—Ç–≤–∏—è:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É + –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

–°–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
- http://smilerentalphuket.com
- https://smilerentalphuket.com (–µ—Å–ª–∏ SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –î–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞
- **IP:** 38.180.122.239
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** root
- **–ü–∞—Ä–æ–ª—å:** 925LudK9Bv

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 list
systemctl status nginx

# –õ–æ–≥–∏
pm2 logs smile-rental
tail -f /var/log/nginx/error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart smile-rental
systemctl restart nginx
```

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–∞–π—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω.

**–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**
