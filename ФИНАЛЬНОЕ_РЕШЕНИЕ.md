# üö® –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï 502 –û–®–ò–ë–ö–ò

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω ecosystem.config.js** - –ø—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω —Å `/smile-rental-modern` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. **GitHub Actions –¥–µ–ø–ª–æ–π –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ** (run #43 - success)
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê
–°–∞–π—Ç –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- –î–µ–ø–ª–æ–π –ø—Ä–æ—à–µ–ª, –Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –∏–ª–∏ —É–ø–∞–ª–æ
- PM2 –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ—à–∏–±–∫–∏
- –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏–ª–∏ —Å–±–æ—Ä–∫–æ–π

## üîß –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ï –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
–ó–∞–ø—É—Å—Ç–∏—Ç–µ: `final-emergency-fix.cmd`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@38.180.122.239
# –ü–∞—Ä–æ–ª—å: [REMOVED]

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/smilerentalphuket.com/site-smile-rental

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PM2
pm2 status

# 4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
pm2 logs smile-rental --lines 20

# 5. –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
pm2 delete all
npm install
npm run build
pm2 start ecosystem.config.js

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
pm2 status
curl -I http://localhost:3000
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞
```bash
ssh root@38.180.122.239 "cd /var/www/smilerentalphuket.com/site-smile-rental && pm2 delete all && npm install && npm run build && pm2 start ecosystem.config.js && pm2 status && curl -I http://localhost:3000"
```

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:
- PM2 –ø–æ–∫–∞–∂–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- `curl http://localhost:3000` –≤–µ—Ä–Ω–µ—Ç 200 OK
- –°–∞–π—Ç https://smilerentalphuket.com –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç

## üìû –ï–°–õ–ò –ù–ï –ü–û–ú–û–ì–ê–ï–¢
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–º—è—Ç—å: `free -h`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `reboot`

---
**–°—Ç–∞—Ç—É—Å**: GitHub Actions –∏—Å–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ, –Ω—É–∂–Ω–æ —Ä—É—á–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
